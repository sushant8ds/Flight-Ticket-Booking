# Django logging configuration for {{ app_name }}
# Generated by Ansible on {{ ansible_date_time.iso8601 }}

[loggers]
keys=root,django,{{ app_name }}

[handlers]
keys=console,file,error_file

[formatters]
keys=verbose,simple

[logger_root]
level={{ log_level }}
handlers=console,file

[logger_django]
level={{ log_level }}
handlers=console,file
qualname=django
propagate=0

[logger_{{ app_name }}]
level={{ log_level }}
handlers=console,file
qualname={{ app_name }}
propagate=0

[handler_console]
class=StreamHandler
level={{ log_level }}
formatter=simple
args=(sys.stdout,)

[handler_file]
class=handlers.RotatingFileHandler
level={{ log_level }}
formatter=verbose
args=('{{ log_dir }}/{{ app_name }}.log', 'a', 10485760, 5)

[handler_error_file]
class=handlers.RotatingFileHandler
level=ERROR
formatter=verbose
args=('{{ log_dir }}/{{ app_name }}_error.log', 'a', 10485760, 5)

[formatter_verbose]
format=%(asctime)s [%(levelname)s] %(name)s: %(message)s
datefmt=%Y-%m-%d %H:%M:%S

[formatter_simple]
format=%(levelname)s %(message)s